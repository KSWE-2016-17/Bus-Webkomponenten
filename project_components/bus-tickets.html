<dom-module id="bus-tickets">
    <!-- Erzeugt ein Formular in dem der Fahrer statistiken über Fahrkarten eintragen kann -->
    <link href="../bower_components/paper-slider/paper-slider.html" rel="import">
    <link href="../bower_components/iron-label/iron-label.html" rel="import">
    <link href="../bower_components/iron-form/iron-form.html" rel="import">
    <template>
        <paper-button raised data-dialog="modal_b" onclick="modal_b.open()">Fahrgäste eintragen</paper-button>
        <paper-dialog id="modal_b" modal>
            <form is="iron-form" method="get" action="/{{url}}" id="basic">
                <table>
                    <tr>
                        <td>
                            <label>Ticket</label>
                        </td>
                        <td></td>
                        <td>
                            <label>Anzahl</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <iron-label for="adult">
                                <span>Erwachsene</span><br>
                            </iron-label>
                        </td>
                        <td><span>{{adultValue}}</span></td>
                        <td>
                            <paper-slider id="adult" name="adult_ticket" value="{{adultValue}}" on-change="{{adultValue}}"></paper-slider>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <iron-label for="reduced">
                                <span>Ermäßigt</span><br>
                            </iron-label>
                        </td>
                        <td><span>{{reducedValue}}</span></td>
                        <td>
                            <paper-slider id="reduced" name="reduced_ ticket" value="{{reducedValue}}"
                                          on-change="{{reduceValue}}"></paper-slider>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <iron-label for="monthly">
                                <span>Monatsfahrkarte</span><br>
                            </iron-label>
                        </td>
                        <td><span>{{monthlyValue}}</span></td>
                        <td>
                            <paper-slider id="monthly" name="monthly_ticket" value="{{monthlyValue}}"
                                          on-change="{{monthlyValue}}"></paper-slider>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <iron-label for="student">
                                <span>Schülerfahrkarte</span><br>
                            </iron-label>
                        </td>
                        <td><span>{{studentValue}}</span></td>
                        <td>
                            <paper-slider id="student" name="student_ticket" value="{{studentValue}}"
                                          on-change="{{studentValue}}"></paper-slider>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <iron-label for="special">
                                <span>Sonderfahrkarte</span><br>
                            </iron-label>
                        </td>
                        <td><span>{{specialValue}}</span></td>
                        <td>
                            <paper-slider id="special" name="special_ticket" value="{{specialValue}}"
                                          on-change="{{specialValue}}"></paper-slider>
                        </td>
                    </tr>
                </table>


                <paper-button raised onclick="_submit(event)">Akzeptieren</paper-button>
                <paper-button raised onclick="_reset(event)">Abbrechen</paper-button>
                <paper-button raised dialog-confirm autofocus>Schließen</paper-button>
                <div class="output"></div>
            </form>
        </paper-dialog>
    </template>
    <script>
        Polymer({
            is: "bus-tickets",
            properties: {
                url: {
                    type: String,
                    value: ""
                }
            }

        });

        function _submit(event) {
            Polymer.dom(event).localTarget.parentElement.submit();
        }
        function _reset(event) {
            var form = Polymer.dom(event).localTarget.parentElement
            form.reset();
            form.querySelector('.output').innerHTML = '';
        }
    </script>
</dom-module>